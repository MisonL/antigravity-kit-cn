export const metadata = {
    title: "示例：多智能体编排 | Antigravity Kit",
    description: "学习如何使用 /orchestrate 协调多个专家智能体完成复杂项目。",
};

import {
    Callout,
    StepList,
    Step,
    Terminal,
    TerminalLine,
    TerminalBlock,
    ProTips,
    Tip,
    FeatureGrid,
    Feature,
} from "@/components/mdx";

# 多智能体编排

使用 `/orchestrate` 协调专家智能体，构建完整 SaaS 平台。

## 概览

大多数 AI 交互都是一对一的。`orchestrator` 作为**项目经理**改变了这一点。
它会把大型需求（如“构建 SaaS MVP”）拆成任务，并分配给最合适的专家。

<FeatureGrid>
    <Feature title="后端" description="API 与 DB 架构" />
    <Feature title="前端" description="UI/UX 专家" />
    <Feature title="安全" description="安全审计" />
    <Feature title="QA" description="测试工程师" />
</FeatureGrid>

## 过程

<StepList>
  <Step number={1} title="项目简述">
    描述高层目标，orchestrator 会追问以澄清需求。

    ```bash
    /orchestrate 构建一个"在线课程平台" MVP，包含：
    - 用户认证 (NextAuth)
    - Stripe 支付
    - 视频托管 (Mux)
    - 讲师仪表盘
    ```

  </Step>
  <Step number={2} title="阶段 1：规划">
    `project-planner` 生成详细路线图（`PLAN.md`）。

    <div className="bg-zinc-50 dark:bg-zinc-900 p-3 rounded-lg text-xs font-mono border-l-2 border-blue-500 mt-2">
      ...<br/>
      ### 2.1 Database Schema<br/>
      - Users (id, email, role)<br/>
      - Courses (id, title, price)<br/>
      ...
    </div>

  </Step>
  <Step number={3} title="阶段 2：执行">
    智能体并行工作，Orchestrator 监控进度并解除阻塞。
  </Step>
</StepList>

## 示例对话

<Terminal>
  <TerminalLine type="user">/orchestrate 构建电商 MVP</TerminalLine>

<TerminalBlock>
    <TerminalLine type="agent">**正在激活小队...**</TerminalLine>
    基于 `PLAN.md` 分配任务：
</TerminalBlock>

<div className="space-y-3 pl-8">
    <div className="flex items-center gap-2">
        <span className="w-2 h-2 rounded-full bg-yellow-500 animate-pulse"></span>
        <span>
            <strong>Backend-Specialist:</strong> 正在配置 Prisma Schema...
        </span>
    </div>
    <div className="flex items-center gap-2">
        <span className="w-2 h-2 rounded-full bg-blue-500 animate-pulse"></span>
        <span>
            <strong>Frontend-Specialist:</strong> 正在构建 ProductCard 组件...
        </span>
    </div>
    <div className="flex items-center gap-2">
        <span className="w-2 h-2 rounded-full bg-purple-500 animate-pulse"></span>
        <span>
            <strong>Security-Auditor:</strong> 正在审查认证流程...
        </span>
    </div>
</div>

  <TerminalBlock highlight>
    <TerminalLine type="agent">**✅ 项目完成！**</TerminalLine>
    所有任务已结束。运行 `npm run dev` 启动。
  </TerminalBlock>
</Terminal>

## 专家建议

<ProTips>
    <Tip title="从小开始">
        不要一次构建“完整 Facebook”。先编排 MVP，再用 `/enhance` 迭代。
    </Tip>
    <Tip title="明确认证方式">
        说明用户如何登录（如“使用 NextAuth + Google”），这是关键架构决策。
    </Tip>
</ProTips>

## 下一步

- 了解 [系统化调试](/docs/guide/examples/debugging) 以维护复杂应用
- 查看 [生产部署](/docs/guide/examples/deployment) 发布 MVP
