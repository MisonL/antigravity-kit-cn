export const metadata = {
  title: "示例：测试生成与执行 | Antigravity Kit",
  description: "学习如何使用 /test 为代码生成并运行测试。",
};

import { Callout, StepList, Step, Terminal, TerminalLine, TerminalBlock, ProTips, Tip, FeatureGrid, Feature } from '@/components/mdx'

# 测试生成与执行

使用 `/test` 生成并执行测试。

## 概览

`/test` 负责**测试生成与执行**。
可分析代码、生成测试套件、执行测试或查看覆盖率。

<FeatureGrid>
  <Feature title="run" description="执行测试" />
  <Feature title="generate" description="生成测试" />
  <Feature title="coverage" description="覆盖率报告" />
  <Feature title="watch" description="实时模式" />
</FeatureGrid>

## 过程

<StepList>
  <Step number={1} title="运行全部测试">
    ```bash
    /test
    ```
  </Step>
  <Step number={2} title="为文件生成测试">
    ```bash
    /test src/auth.ts
    ```
  </Step>
  <Step number={3} title="查看覆盖率">
    ```bash
    /test coverage
    ```
  </Step>
</StepList>

## 示例对话

<Terminal>
  <TerminalLine type="user">/test src/services/auth.ts</TerminalLine>

  <TerminalBlock>
    <TerminalLine type="agent">**正在分析 auth.ts...**</TerminalLine>
    <div className="text-xs mt-2">
      发现 4 个函数：login、register、verifyToken、resetPassword
    </div>
  </TerminalBlock>

  <TerminalBlock highlight>
    <TerminalLine type="agent">**✅ 测试已生成！**</TerminalLine>
    <div className="text-xs mt-2">
      已创建：`tests/auth.test.ts`<br/>
      用例数量：12<br/>
      覆盖率：95%
    </div>
  </TerminalBlock>
</Terminal>

## 专家建议

<ProTips>
  <Tip title="测试行为">
    关注函数“做什么”，而不是“怎么做”。
  </Tip>
  <Tip title="边界情况">
    必测错误、空输入与边界条件。
  </Tip>
</ProTips>

## 下一步

- 运行 `/test` 执行测试套件
- 查看 [生产部署](/docs/guide/examples/deployment)，其中会自动跑测试
