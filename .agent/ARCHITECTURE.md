# ğŸ—ï¸ æ¶æ„æ–‡æ¡£ (Architecture)

> **Antigravity Kit** - æ ¸å¿ƒæ¶æ„ä¸è®¾è®¡åŸåˆ™

---

## 1. æ ¸å¿ƒè®¾è®¡ç†å¿µ

Antigravity Kit ä¸æ˜¯ä¸€ä¸ªç®€å•çš„"æç¤ºè¯åº“"ï¼Œè€Œæ˜¯ä¸€ä¸ª**æ¨¡å—åŒ–çš„æ™ºèƒ½ä½“æ“ä½œç³»ç»Ÿ**ã€‚å®ƒéµå¾ªä»¥ä¸‹æ ¸å¿ƒåŸåˆ™ï¼š

### ğŸ§± æ¨¡å—åŒ– (Modularity)

ä¸€åˆ‡çš†æ¨¡å—ã€‚

- **Agent (æ™ºèƒ½ä½“)**ï¼šåªæœ‰"äººæ ¼"å’Œ"èŒè´£"ï¼Œä¸åŒ…å«å…·ä½“çŸ¥è¯†ã€‚
- **Skill (æŠ€èƒ½)**ï¼šç‹¬ç«‹çš„çŸ¥è¯†å•å…ƒï¼Œå¯è¢«å¤šä¸ª Agent å¤ç”¨ã€‚
- **Workflow (å·¥ä½œæµ)**ï¼šä¸²è” Agent å’Œ Skill çš„æ ‡å‡†åŒ–æµç¨‹ã€‚

### ğŸ”Œ åŠ¨æ€åŠ è½½ (Lazy Loading)

**ç¡¬ç›˜å…¨é‡å®‰è£…ï¼Œå†…å­˜æŒ‰éœ€åŠ è½½ã€‚**
ç³»ç»Ÿä¸ä¼šä¸€æ¬¡æ€§æŠŠæ‰€æœ‰ Prompt å¡ç»™ AIã€‚åªæœ‰å½“ç”¨æˆ·è§¦å‘ç‰¹å®šé¢†åŸŸæ—¶ï¼Œç›¸å…³çš„æ–‡ä»¶æ‰ä¼šè¢«è¯»å–ã€‚

- **P0 çº§**ï¼š`GEMINI.md` (å§‹ç»ˆæ¿€æ´»)
- **P1 çº§**ï¼š`Agent.md` (æ ¹æ®è¯·æ±‚è·¯ç”±æ¿€æ´»)
- **P2 çº§**ï¼š`Skill.md` (æ ¹æ® Agent éœ€æ±‚æ¿€æ´»)

### ğŸ¤– æ™ºèƒ½è·¯ç”± (Intelligent Routing)

ç”¨æˆ·ä¸éœ€è¦çŸ¥é“ç³»ç»Ÿé‡Œæœ‰ä»€ä¹ˆ Agentã€‚

- ç”¨æˆ·è¯´ï¼š"å¸®æˆ‘ä¿®ä¸ª Bug" -> è·¯ç”±åˆ° `debugger`
- ç”¨æˆ·è¯´ï¼š"è®¾è®¡ä¸ªç½‘é¡µ" -> è·¯ç”±åˆ° `frontend-specialist`
- ç”¨æˆ·è¯´ï¼š"éƒ¨ç½²æœåŠ¡å™¨" -> è·¯ç”±åˆ° `devops-engineer`

---

## 2. ç›®å½•ç»“æ„è¯´æ˜

```
.agent/
â”œâ”€â”€ ARHCITECTURE.md       # æœ¬æ–‡ä»¶
â”œâ”€â”€ agents/               # æ™ºèƒ½ä½“å®šä¹‰ (Persona)
â”‚   â”œâ”€â”€ frontend-specialist.md
â”‚   â”œâ”€â”€ backend-specialist.md
â”‚   â””â”€â”€ ...
â”œâ”€â”€ skills/               # æŠ€èƒ½åº“ (Knowledge)
â”‚   â”œâ”€â”€ react-best-practices/
â”‚   â”œâ”€â”€ api-patterns/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ workflows/            # å·¥ä½œæµ (Slash Commands)
â”‚   â”œâ”€â”€ brainstorm.md
â”‚   â”œâ”€â”€ create.md
â”‚   â””â”€â”€ ...
â””â”€â”€ scripts/              # è‡ªåŠ¨åŒ–è„šæœ¬ (Python/Shell)
    â”œâ”€â”€ checklist.py
    â””â”€â”€ ...
```

---

## 3. æ ¸å¿ƒåè®® (Protocol)

### 3.1 æŠ€èƒ½åŠ è½½åè®®

æ¯ä¸ª Agent çš„å¤´éƒ¨ frontmatter å®šä¹‰äº†å®ƒå…·å¤‡çš„æŠ€èƒ½ï¼š

```yaml
---
description: å‰ç«¯å¼€å‘ä¸“å®¶
skills:
    - frontend-design
    - react-best-practices
    - tailwind-patterns
---
```

å½“ `frontend-specialist` è¢«æ¿€æ´»æ—¶ï¼Œå®ƒ**å¿…é¡»**è¯»å– `skills` åˆ—è¡¨ä¸­çš„ `SKILL.md` æ–‡ä»¶ã€‚

### 3.2 è„šæœ¬æ‰§è¡Œåè®®

Agent å¯ä»¥è°ƒç”¨ `scripts/` ä¸‹çš„è„šæœ¬ï¼Œä½†å¿…é¡»éµå¾ªï¼š

1. **å®‰å…¨ç¬¬ä¸€**ï¼šå¦‚æœæ˜¯ç ´åæ€§æ“ä½œï¼Œå¿…é¡»å…ˆè¯¢é—®ç”¨æˆ·ã€‚
2. **ç¯å¢ƒæ£€æŸ¥**ï¼šå…ˆæ£€æŸ¥ç”¨æˆ·ç¯å¢ƒ (Node, Python ç­‰)ã€‚
3. **é€æ˜åŒ–**ï¼šå‘ŠçŸ¥ç”¨æˆ·æ­£åœ¨æ‰§è¡Œä»€ä¹ˆè„šæœ¬ã€‚

---

## 4. æ‰©å±•æŒ‡å—

### å¦‚ä½•æ·»åŠ æ–° Agentï¼Ÿ

1. åœ¨ `agents/` ä¸‹åˆ›å»º `new-agent.md`ã€‚
2. å®šä¹‰ frontmatter (description, skills)ã€‚
3. ç¼–å†™ System Prompt (è§’è‰²è®¾å®šã€è§„åˆ™)ã€‚

### å¦‚ä½•æ·»åŠ æ–° Skillï¼Ÿ

1. åœ¨ `skills/` ä¸‹åˆ›å»ºæ–°ç›®å½• `new-skill/`ã€‚
2. åˆ›å»º `SKILL.md` (æ ¸å¿ƒæŒ‡ä»¤)ã€‚
3. (å¯é€‰) æ·»åŠ  `scripts/` æˆ– `rules/`ã€‚

### å¦‚ä½•æ·»åŠ æ–° Workflowï¼Ÿ

1. åœ¨ `workflows/` ä¸‹åˆ›å»º `new-flow.md`ã€‚
2. å®šä¹‰è§¦å‘å‘½ä»¤ (å¦‚ `/newflow`)ã€‚
3. ç¼–å†™æ­¥éª¤è¯´æ˜ã€‚

---

## 5. ç‰ˆæœ¬æ§åˆ¶

- **Version**: 2.0.1
- **Last Updated**: 2026-02-04
