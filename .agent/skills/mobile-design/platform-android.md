---
description: Material Design 3 精要、Android 设计惯例、Roboto 排版与原生模式
---

# Android 平台指南 (Android Platform Guidelines)

> Material Design 3 精要、Android 设计惯例、Roboto 排版与原生模式。
> **为 Android 设备构建应用时必读。**

---

## 1. Material Design 3 哲学

### 核心 Material 原则

```
将 Material 作为隐喻 (MATERIAL AS METAPHOR):
├── 表面存在于 3D 空间中
├── 光线和阴影定义层级
├── 动效提供连续性
└── 大胆、图形化、有意的设计

自适应设计 (ADAPTIVE DESIGN):
├── 响应设备能力
├── 所有形态使用统一 UI
├── 动态颜色源自壁纸
└── 为每个用户个性化

默认无障碍 (ACCESSIBLE BY DEFAULT):
├── 大触摸目标
├── 清晰的视觉层级
├── 语义化颜色
└── 动效尊重偏好
```

### Material 设计价值观

| 价值观       | 实现方式              |
| :----------- | :-------------------- |
| **动态颜色** | 颜色适应壁纸/用户偏好 |
| **个性化**   | 用户特定的主题        |
| **可访问性** | 内置于每个组件中      |
| **响应式**   | 在所有屏幕尺寸上工作  |
| **一致性**   | 统一的设计语言        |

---

## 2. Android 排版 (Typography)

### Roboto 字体家族

```
Android 系统字体:
├── Roboto: 默认无衬线字体
├── Roboto Flex: 可变字体 (API 33+)
├── Roboto Serif: 衬线体替代方案
├── Roboto Mono: 等宽字体
└── Google Sans: Google 产品 (特殊许可)
```

### Material 字阶

| 角色                | 大小 | 字重    | 行高 | 用途             |
| :------------------ | :--- | :------ | :--- | :--------------- |
| **Display Large**   | 57sp | Regular | 64sp | 英雄文本、启动页 |
| **Display Medium**  | 45sp | Regular | 52sp | 大标题           |
| **Display Small**   | 36sp | Regular | 44sp | 中标题           |
| **Headline Large**  | 32sp | Regular | 40sp | 页面标题         |
| **Headline Medium** | 28sp | Regular | 36sp | 章节标题         |
| **Headline Small**  | 24sp | Regular | 32sp | 子章节           |
| **Title Large**     | 22sp | Regular | 28sp | 对话框、卡片     |
| **Title Medium**    | 16sp | Medium  | 24sp | 列表、导航       |
| **Title Small**     | 14sp | Medium  | 20sp | 标签、次要内容   |
| **Body Large**      | 16sp | Regular | 24sp | 主要内容         |
| **Body Medium**     | 14sp | Regular | 20sp | 次要内容         |
| **Body Small**      | 12sp | Regular | 16sp | 说明、标注       |
| **Label Large**     | 14sp | Medium  | 20sp | 按钮、FAB        |
| **Label Medium**    | 12sp | Medium  | 16sp | 导航             |
| **Label Small**     | 11sp | Medium  | 16sp | Chips、徽章      |

### 可缩放像素 (sp)

```
sp = Scale-independent pixels (独立缩放像素)

sp 自动随以下因素缩放:
├── 用户字体大小偏好
├── 显示密度
└── 辅助功能设置

规则: 始终对文本使用 sp，其他所有尺寸使用 dp。
```

### 字重用法

| 字重          | 用途                   |
| :------------ | :--------------------- |
| Regular (400) | 正文文本、Display      |
| Medium (500)  | 按钮、标签、强调       |
| Bold (700)    | 极少使用，仅用于强强调 |

---

## 3. Material 色彩系统

### 动态颜色 (Dynamic Color - Material You)

```
Android 12+ 动态颜色:

用户壁纸 → 颜色提取 → App 主题

你的 App 自动适应:
├── Primary color (来自壁纸)
├── Secondary color (互补色)
├── Tertiary color (强调色)
├── Surface colors (衍生)
└── 所有语义颜色随之调整

规则: 实现动态颜色以获得原生个性化体验。
```

### 语义色彩角色

```
表面颜色 (Surface Colors):
├── Surface → 主背景
├── SurfaceVariant → 卡片、容器
├── SurfaceTint → 海拔覆盖层
├── InverseSurface → Snackbars, 提示框

表面上颜色 (On-Surface Colors):
├── OnSurface → 主要文本
├── OnSurfaceVariant → 次要文本
├── Outline → 边框、分割线
├── OutlineVariant → 微妙分割线

主要颜色 (Primary Colors):
├── Primary → 关键操作、FAB
├── OnPrimary → Primary 上的文本
├── PrimaryContainer → 较低强调
├── OnPrimaryContainer → Container 上的文本

Secondary/Tertiary: 类似模式
```

### 错误、警告、成功颜色

| 角色           | 浅色 (Light) | 深色 (Dark) | 用途         |
| :------------- | :----------- | :---------- | :----------- |
| Error          | #B3261E      | #F2B8B5     | 错误、破坏性 |
| OnError        | #FFFFFF      | #601410     | 错误上的文本 |
| ErrorContainer | #F9DEDC      | #8C1D18     | 错误背景     |

### 深色主题

```
Material 深色主题:

├── 背景: #121212 (默认不是纯黑)
├── Surface: #1E1E1E, #232323 等 (基于海拔)
├── 海拔 (Elevation): 越高 = 越亮的覆盖层
├── 降低颜色饱和度
└── 检查对比度

海拔覆盖层 (深色模式):
├── 0dp → 0% 覆盖
├── 1dp → 5% 覆盖
├── 3dp → 8% 覆盖
├── 6dp → 11% 覆盖
├── 8dp → 12% 覆盖
├── 12dp → 14% 覆盖
```

---

## 4. Android 布局与间距

### 布局网格

```
Android 使用 8dp 基线网格:

所有间距为 8dp 的倍数:
├── 4dp: 组件内部 (半步)
├── 8dp: 最小间距
├── 16dp: 标准间距
├── 24dp: 章节间距
├── 32dp: 大间距

边距 (Margins):
├── 紧凑 (手机): 16dp
├── 中等 (小平板): 24dp
├── 扩展 (大屏): 24dp+ 或多列
```

### 响应式布局

```
窗口尺寸分类 (Window Size Classes):

COMPACT (< 600dp 宽):
├── 竖屏手机
├── 单列布局
├── 底部导航

MEDIUM (600-840dp 宽):
├── 平板、折叠屏
├── 考虑 2 列
├── 侧边导航栏 (Navigation rail) 选项

EXPANDED (> 840dp 宽):
├── 大平板、桌面
├── 多列布局
├── 导航抽屉 (Navigation drawer)
```

---

## 5. Android 导航模式

### 导航组件

| 组件                  | 用途             | 位置            |
| :-------------------- | :--------------- | :-------------- |
| **Bottom Navigation** | 3-5 个顶级目的地 | 底部            |
| **Navigation Rail**   | 平板、折叠屏     | 左侧，垂直      |
| **Navigation Drawer** | 很多目的地、大屏 | 左侧，隐藏/可见 |
| **Top App Bar**       | 当前上下文、操作 | 顶部            |

### 底部导航 (Bottom Navigation)

```
┌─────────────────────────────────────┐
│                                     │
│         内容区域                    │
│                                     │
├─────────────────────────────────────┤
│  🏠     🔍     ➕     ❤️     👤    │ ← 80dp 高
│ 首页    搜索   FAB    收藏    个人  │
└─────────────────────────────────────┘

规则:
├── 3-5 个目的地
├── 图标: Material Symbols (24dp)
├── 标签: 始终可见 (可访问性)
├── 激活: 实心图标 + 指示器胶囊 (Pill)
├── 徽章: 用于通知
├── FAB 可以集成 (可选)
```

### 顶部应用栏 (Top App Bar)

```
类型:
├── 居中对齐: Logo 应用，简单
├── 小型: 紧凑，滚动时隐藏
├── 中型: 标题 + 操作，折叠
├── 大型: 展示标题，折叠为小型

┌─────────────────────────────────────┐
│  ☰   应用标题               🔔 ⋮  │ ← 64dp (小型)
├─────────────────────────────────────┤
│                                     │
│         内容区域                    │
└─────────────────────────────────────┘

操作: 最多 3 个图标，更多用溢出菜单 ( ⋮ )
```

### 返回导航 (Back Navigation)

```
Android 提供系统级返回:
├── 返回按钮 (3 按钮导航)
├── 返回手势 (边缘滑动)
├── 预测性返回 (Predictive back, Android 14+)

你的 App 必须:
├── 正确处理返回 (Pop 栈)
├── 支持预测性返回动画
├── 绝不意外劫持/覆盖返回
└── 在丢弃未保存工作前确认
```

---

## 6. Material 组件

### 按钮

```
按钮类型:

┌──────────────────────┐
│    Filled Button     │  ← 主要操作
└──────────────────────┘

┌──────────────────────┐
│    Tonal Button      │  ← 次要，较低强调
└──────────────────────┘

┌──────────────────────┐
│   Outlined Button    │  ← 第三级，更低强调
└──────────────────────┘

    Text Button           ← 最低强调

高度:
├── Small: 40dp (受限时)
├── Standard: 40dp
├── Large: 56dp (需要时与 FAB 尺寸一致)

最小触摸目标: 48dp (即使视觉上更小)
```

### 浮动操作按钮 (FAB)

```
FAB 类型:
├── Standard: 56dp 直径
├── Small: 40dp 直径
├── Large: 96dp 直径
├── Extended: 图标 + 文本，可变宽度

位置: 右下角，距边缘 16dp
海拔: 浮动在内容之上

┌─────────────────────────────────────┐
│                                     │
│         内容                        │
│                                     │
│                              ┌────┐ │
│                              │ ➕ │ │ ← FAB
│                              └────┘ │
├─────────────────────────────────────┤
│       底部导航                      │
└─────────────────────────────────────┘
```

### 卡片 (Cards)

```
卡片类型:
├── Elevated: 阴影，静止状态
├── Filled: 背景色，无阴影
├── Outlined: 边框，无阴影

圆角: 12dp (M3 默认)
Padding: 16dp
```

### 文本输入框 (Text Fields)

```
类型:
├── Filled: 背景填充，下划线
├── Outlined: 全边框

┌─────────────────────────────────────┐
│  标签 (Label)                       │ ← 聚焦时上浮
│  ________________________________________________
│  │     在此输入文本...             │ ← 前置/后置图标
│  ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
│  说明文本或错误                     │
└─────────────────────────────────────┘

高度: 56dp
标签: 从占位符动画到顶部
错误: 红色 + 图标 + 信息
```

### Chips

```
类型:
├── Assist: 智能操作 (导航、拨打)
├── Filter: 切换过滤器
├── Input: 代表实体 (标签、联系人)
├── Suggestion: 动态推荐

┌───────────────┐
│  🏷️ 过滤器   │  ← 32dp 高, 8dp 圆角
└───────────────┘

状态: 未选, 选中, 禁用
```

---

## 7. Android 特定模式

### Snackbars

```
位置: 底部，导航之上
持续时间: 4-10 秒
操作: 一个可选的文本操作

┌─────────────────────────────────────────────────┐
│  已归档 1 项                        [ 撤销 ]    │
└─────────────────────────────────────────────────┘

规则:
├── 简短信息，尽可能单行
├── 最多 2 行
├── 一个操作 (文本，非图标)
├── 可滑动关闭
└── 不要堆叠，排队显示
```

### Bottom Sheets

```
类型:
├── Standard: 交互式内容
├── Modal: 阻挡背景 (带遮罩 Scrim)

模态 Bottom Sheet:
┌─────────────────────────────────────┐
│                                     │
│        (遮罩覆盖内容)                │
│                                     │
├═════════════════════════════════════┤
│  ─────  (拖拽手柄，可选)             │
│                                     │
│        Sheet 内容                   │
│                                     │
│                                     │
└─────────────────────────────────────┘

圆角: 28dp (顶部角落)
```

### 涟漪效果 (Ripple Effect)

```
每个可触摸元素都需要涟漪:

按下 → 涟漪从触摸点扩散
抬起 → 涟漪完成并淡出

这是 Android 质感的强制要求。
```

---

## 8. Material Symbols

### 使用指南

```
Material Symbols: Google 的图标库

样式:
├── Outlined: 默认，最常用
├── Rounded: 柔和，友好
├── Sharp: 棱角分明，精确

可变字体轴:
├── FILL: 0 (描边) 到 1 (填充)
├── wght: 100-700 (字重)
├── GRAD: -25 到 200 (强调)
├── opsz: 20, 24, 40, 48 (光学尺寸)
```

### 图标尺寸

| 尺寸 | 用途          |
| :--- | :------------ |
| 20dp | 密集 UI，内联 |
| 24dp | 标准 (最常用) |
| 40dp | 较大触摸目标  |
| 48dp | 强调，独立    |

---

## 9. Android 可访问性

### TalkBack 需求

```
每个交互元素需要:
├── contentDescription (是什么)
├── 正确的语义 (role)
├── 状态声明 (selected, disabled)
└── 逻辑分组
```

### 触摸目标尺寸

```
强制: 48dp × 48dp 最小

即使视觉元素较小:
├── 图标: 24dp 视觉, 48dp 触摸区域
├── 复选框: 20dp 视觉, 48dp 触摸区域
└── 添加 Padding 以达到 48dp

目标间距: 8dp 最小
```

### 字体缩放

```
Android 支持字体缩放:
用户可设置 85% 到 200%。

规则: 在 200% 缩放比例下测试你的 UI。
使用 sp 单位，避免固定高度。
```

---

## 10. Android 检查清单

### 每个 Android 屏幕前

- [ ] 使用 Material 3 组件
- [ ] 触摸目标 ≥ 48dp
- [ ] 所有可触摸元素有涟漪效果
- [ ] Roboto 或 Material 字阶
- [ ] 语义颜色 (动态颜色支持)
- [ ] 返回导航工作正常

### Android 发布前

- [ ] 深色主题测试
- [ ] 动态颜色测试 (如支持)
- [ ] 所有字体大小测试 (200% 缩放)
- [ ] TalkBack 测试
- [ ] 预测性返回已实现 (Android 14+)
- [ ] Edge-to-edge 显示 (Android 15+)
- [ ] 不同屏幕尺寸测试 (手机, 平板)
- [ ] 导航模式符合平台惯例

---

> **记住:** Android 用户期待 Material Design。忽略 Material 模式的自定义设计会让人感觉陌生和破碎。以 Material 组件为基础，进行深思熟虑的定制。
