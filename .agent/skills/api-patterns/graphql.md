# GraphQL（图查询语言）原则

> 为复杂、互联的数据提供灵活的查询。

## 何时使用

```
✅ 适用场景:
├── 数据关系复杂且互相连接
├── 有多个前端平台
├── 客户端需要灵活的查询
├── 数据需求在不断演进
└── 减少“过度获取（Over-fetching）”非常重要

❌ 不适用场景:
├── 简单的 CRUD（增删改查）操作
├── 包含大量的文件上传
├── HTTP（超文本传输协议）级缓存非常重要
└── 团队对 GraphQL（图查询语言）不熟悉
```

## Schema（模式）设计原则

```
设计原则:
├── 以图（Graph）的方式思考，而不是端点（Endpoints）
├── 设计要有可演进性（通常无版本号）
├── 使用 Connections（连接）模式进行分页
├── 类型定义要具体（不要使用通用的 "data"）
└── 深思熟虑地处理空值（Nullability）
```

## 安全考量

```
防范措施:
├── 查询深度攻击 → 设置最大深度
├── 查询复杂度 → 计算查询成本
├── 批量滥用 → 限制批量大小
└── 内省（Introspection） → 生产环境禁用
```
