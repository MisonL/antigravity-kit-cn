---
description: æµ‹è¯•ç”Ÿæˆä¸æµ‹è¯•æ‰§è¡Œå‘½ä»¤ã€‚ç”¨äºåˆ›å»ºå¹¶è¿è¡Œä»£ç æµ‹è¯•ã€‚
---

# /test - æµ‹è¯•ç”Ÿæˆä¸æ‰§è¡Œ (Test Generation and Execution)

$ARGUMENTS

---

## ç›®çš„ (Purpose)

æ­¤å‘½ä»¤ç”¨äºç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ã€è¿è¡Œç°æœ‰æµ‹è¯•æˆ–æ£€æŸ¥æµ‹è¯•è¦†ç›–ç‡ (Coverage)ã€‚

---

## å­å‘½ä»¤ (Sub-commands)

```
/test                - è¿è¡Œæ‰€æœ‰æµ‹è¯•
/test [æ–‡ä»¶/åŠŸèƒ½]    - ä¸ºç‰¹å®šç›®æ ‡ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹
/test coverage       - æ˜¾ç¤ºæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
/test watch          - ä»¥è§‚å¯Ÿæ¨¡å¼ (Watch mode) è¿è¡Œæµ‹è¯•
```

---

## è¡Œä¸º (Behavior)

### ç”Ÿæˆæµ‹è¯•

å½“è¦æ±‚å¯¹æŸä¸ªæ–‡ä»¶æˆ–åŠŸèƒ½è¿›è¡Œæµ‹è¯•æ—¶ï¼š

1. **åˆ†æä»£ç **
    - è¯†åˆ«å‡½æ•°ä¸æ–¹æ³•ã€‚
    - å¯»æ‰¾è¾¹ç•Œæƒ…å†µ (Edge cases)ã€‚
    - æ£€æµ‹éœ€è¦æ¨¡æ‹Ÿ (Mock) çš„å¤–éƒ¨ä¾èµ–ã€‚

2. **ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹**
    - æ­£å¸¸è·¯å¾„ (Happy path) æµ‹è¯•ã€‚
    - é”™è¯¯å¤„ç†æƒ…å†µã€‚
    - è¾¹ç•Œæƒ…å†µã€‚
    - é›†æˆæµ‹è¯•ï¼ˆå¦‚æœ‰å¿…è¦ï¼‰ã€‚

3. **ç¼–å†™æµ‹è¯•ä»£ç **
    - ä½¿ç”¨é¡¹ç›®æŒ‡å®šçš„æµ‹è¯•æ¡†æ¶ (Jest, Vitest ç­‰)ã€‚
    - éµå¾ªç°æœ‰çš„æµ‹è¯•æ¨¡å¼ã€‚
    - æ¨¡æ‹Ÿ (Mock) å¤–éƒ¨ä¾èµ–é¡¹ã€‚

---

## è¾“å‡ºæ ¼å¼ (Output Format)

### æµ‹è¯•ç”Ÿæˆç¤ºä¾‹

```markdown
## ğŸ§ª æµ‹è¯•ç”Ÿæˆï¼š[ç›®æ ‡å¯¹è±¡]

### æµ‹è¯•è®¡åˆ’

| æµ‹è¯•ç”¨ä¾‹             | ç±»å‹     | è¦†ç›–ç‚¹                |
| -------------------- | -------- | --------------------- |
| åº”èƒ½æˆåŠŸåˆ›å»ºç”¨æˆ·     | å•å…ƒæµ‹è¯• | æ­£å¸¸è·¯å¾„ (Happy path) |
| åº”æ‹’ç»æ— æ•ˆçš„é‚®ç®±åœ°å€ | å•å…ƒæµ‹è¯• | æ ¡éªŒé€»è¾‘              |
| åº”èƒ½å¤„ç†æ•°æ®åº“é”™è¯¯   | å•å…ƒæµ‹è¯• | é”™è¯¯å¤„ç†              |

### å·²ç”Ÿæˆçš„æµ‹è¯•ä»£ç 

`tests/[file].test.ts`

[åŒ…å«æµ‹è¯•ä»£ç çš„ä»£ç å—]

---

è¿è¡Œå‘½ä»¤ï¼š`npm test`
```

### æµ‹è¯•æ‰§è¡Œç¤ºä¾‹

```
ğŸ§ª æ­£åœ¨è¿è¡Œæµ‹è¯•â€¦â€¦

âœ… auth.test.ts (5 é¡¹é€šè¿‡)
âœ… user.test.ts (8 é¡¹é€šè¿‡)
âŒ order.test.ts (2 é¡¹é€šè¿‡, 1 é¡¹å¤±è´¥)

å¤±è´¥è¯¦æƒ…ï¼š
  âœ— åº”è¯¥æ­£ç¡®è®¡ç®—å¸¦æŠ˜æ‰£çš„æ€»é¢
    é¢„æœŸå€¼ (Expected): 90
    å®é™…å€¼ (Received): 100

ç»Ÿè®¡ï¼šå…± 15 é¡¹æµ‹è¯• (14 é¡¹é€šè¿‡, 1 é¡¹å¤±è´¥)
```

---

## ä½¿ç”¨ç¤ºä¾‹ (Examples)

```
/test src/services/auth.service.ts
/test ç”¨æˆ·æ³¨å†Œæµç¨‹
/test coverage
/test ä¿®å¤å¤±è´¥çš„æµ‹è¯•é¡¹
```

---

## æµ‹è¯•æ¨¡å¼ (Test Patterns)

### å•å…ƒæµ‹è¯•ç»“æ„ç¤ºä¾‹

```typescript
describe("AuthService", () => {
    describe("login", () => {
        it("åº”ä¸ºæœ‰æ•ˆçš„å‡­æ®è¿”å› Token", async () => {
            // å‡†å¤‡ (Arrange)
            const credentials = { email: "test@test.com", password: "pass123" };

            // æ‰§è¡Œ (Act)
            const result = await authService.login(credentials);

            // æ–­è¨€ (Assert)
            expect(result.token).toBeDefined();
        });

        it("å¯†ç é”™è¯¯æ—¶åº”æŠ›å‡ºå¼‚å¸¸", async () => {
            // å‡†å¤‡ (Arrange)
            const credentials = { email: "test@test.com", password: "wrong" };

            // æ‰§è¡Œä¸æ–­è¨€ (Act & Assert)
            await expect(authService.login(credentials)).rejects.toThrow(
                "Invalid credentials",
            );
        });
    });
});
```

---

## æ ¸å¿ƒåŸåˆ™ (Key Principles)

- **é’ˆå¯¹è¡Œä¸ºè€Œéå®ç°è¿›è¡Œæµ‹è¯•**ã€‚
- **æ¯ä¸ªæµ‹è¯•ä»…åŒ…å«ä¸€ä¸ªæ–­è¨€**ï¼ˆåœ¨å¯è¡Œçš„æƒ…å†µä¸‹ï¼‰ã€‚
- **ä½¿ç”¨æè¿°æ€§çš„æµ‹è¯•åç§°**ã€‚
- **éµå¾ª Arrange-Act-Assert (å‡†å¤‡-æ‰§è¡Œ-æ–­è¨€) æ¨¡å¼**ã€‚
- **æ¨¡æ‹Ÿ (Mock) æ‰€æœ‰å¤–éƒ¨ä¾èµ–é¡¹**ã€‚
