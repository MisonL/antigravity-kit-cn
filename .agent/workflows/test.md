---
description: 生成测试用例并运行测试
---

# 测试 (Test Workflow)

**触发命令**: `/test [scope]`

## 目的

不仅仅是运行测试，而是**生成**测试、**修复**测试并**报告**结果。

## 步骤流程

1. **测试策略**:
    - 分析目标代码。
    - 决定测试类型 (Unit/Integration/E2E)。
    - 选择测试框架 (Jest/Vitest/Playwright)。

2. **生成测试**:
    - 如果测试不存在，创建测试文件 `*.test.ts`。
    - 编写覆盖核心逻辑的测试用例。
    - Mock 外部依赖。

3. **执行测试**:
    - 运行 `npm test` 或特定命令。

4. **修复与重试**:
    - 如果测试失败，分析错误。
    - 自动修复代码或测试用例。
    - 重新运行直到通过 (或达到重试上限)。

## 示例

> User: /test utils/auth.ts
> AI: 正在为 utils/auth.ts 生成单元测试... 运行 Jest... 所有测试通过 ✅。

---
