---
description: 调试命令。激活 DEBUG（调试）模式并进行系统化问题排查。
---

# /debug - 系统化问题排查

$ARGUMENTS

---

## 目的

该命令用于激活 DEBUG（调试）模式，以系统化调查异常、报错或非预期行为。

---

## 行为

当 `/debug` 被触发时：

1. **收集信息**
   - 错误信息
   - 复现步骤
   - 预期行为 vs 实际行为
   - 最近代码变更

2. **形成假设**
   - 列出可能原因
   - 按概率排序

3. **系统化调查**
   - 逐条验证假设
   - 检查日志与数据流
   - 用排除法收敛根因

4. **修复并预防**
   - 应用修复
   - 解释根因
   - 增加预防措施

---

## 输出格式

```markdown
## 🔍 Debug（调试）：[问题]

### 1. 症状
[发生了什么]

### 2. 已收集信息
- 错误：`[错误信息]`
- 文件：`[文件路径]`
- 行号：[行号]

### 3. 假设
1. ❓ [最可能的原因]
2. ❓ [第二可能性]
3. ❓ [较低可能性]

### 4. 调查

**验证假设 1：**
[检查内容] → [结果]

**验证假设 2：**
[检查内容] → [结果]

### 5. 根因
🎯 **[为何会发生的解释]**

### 6. 修复
```[language]
// Before
[broken code]

// After
[fixed code]
```

### 7. 预防
🛡️ [如何避免再次发生]
```

---

## 示例

```
/debug 登录无法使用
/debug API（接口）返回 500
/debug 表单无法提交
/debug 数据未保存
```

---

## 核心原则

- **先问再判** —— 先拿到完整错误上下文
- **验证假设** —— 不要凭感觉乱改
- **解释原因** —— 不只说“怎么修”，还要说“为何坏”
- **防止复发** —— 补上测试与校验策略
