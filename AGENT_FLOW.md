# ğŸ”„ Agent Flow æ¶æ„

> **Antigravity Kit** - å…¨é¢çš„ AI Agent å·¥ä½œæµæ–‡æ¡£

---

## ğŸ“Š å…¨æµç¨‹æ¦‚è§ˆå›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·è¯·æ±‚ (USER REQUEST)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  1. è¯·æ±‚åˆ†ç±» (GEMINI.md)    â”‚
              â”‚  (Tier 0 - Always On)       â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼               â–¼                â–¼
    [ç®€å•æŸ¥è¯¢]          [å¤æ‚ä»»åŠ¡]         [æ–œæ å‘½ä»¤]
    (Simple)            (Complex)          (Slash)
       â”‚                    â”‚                 â”‚
       â–¼                    â–¼                 â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ç›´æ¥å›ç­” â”‚      â”‚ 2. æ™ºèƒ½è·¯ç”±  â”‚   â”‚  åŠ è½½å·¥ä½œæµ â”‚
  â”‚ (No Tool)â”‚      â”‚   (Router)   â”‚   â”‚  (Workflow) â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚                â”‚
                            â–¼                â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
              â”‚   3. Agent æ¿€æ´» (Activate)  â”‚â”‚
              â”‚   (Load .md + Skills)       â”‚â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                            â”‚                â”‚
                            â–¼                â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   4. æ‰§è¡Œåè®® (Execution)   â”‚
              â”‚   (Socratic Gate -> Edit)   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ è¯¦ç»†æ¶æ„å±‚çº§

### Tier 0: ç½‘å…³å±‚ (`GEMINI.md`)

è¿™æ˜¯ç³»ç»Ÿçš„ç¬¬ä¸€é“é˜²çº¿ã€‚æ‰€æœ‰è¯·æ±‚é¦–å…ˆç»è¿‡è¿™é‡Œã€‚

- **èŒè´£**: åˆ†ç±»ã€è·¯ç”±ã€æ‰§è¡Œé€šç”¨è§„åˆ™ (Tier 1 åŸºç¡€è§„åˆ™)ã€‚
- **æ ¸å¿ƒç»„ä»¶**: è¯·æ±‚åˆ†ç±»å™¨è¡¨ã€æ™ºèƒ½è·¯ç”±é€»è¾‘ã€‚
- **è¾“å‡º**: å†³å®šä¸‹ä¸€æ­¥æ˜¯ç›´æ¥å›ç­”ã€è°ƒç”¨ Agent è¿˜æ˜¯æ‰§è¡Œå·¥ä½œæµã€‚

### Tier 1: ä¸“å®¶å±‚ (`.agent/agents/*.md`)

å½“è¯·æ±‚éœ€è¦ç‰¹å®šé¢†åŸŸçš„ä¸“ä¸šçŸ¥è¯†æ—¶è§¦å‘ã€‚

- **èŒè´£**: æä¾›ç‰¹å®šè§’è‰²çš„æ€ç»´æ¨¡å‹ã€çº¦æŸå’Œå·¥å…·ä½¿ç”¨ç­–ç•¥ã€‚
- **åŠ è½½æœºåˆ¶**: åŠ¨æ€åŠ è½½ã€‚åªæœ‰é€‰å®šçš„ Agent ä¼šè¢«åŠ è½½åˆ°ä¸Šä¸‹æ–‡ã€‚
- **ç¤ºä¾‹**:
    - `frontend-specialist`: çŸ¥é“ React, CSS, UI/UXã€‚
    - `backend-specialist`: çŸ¥é“ API, DB, Authã€‚
    - `debugger`: çŸ¥é“å¦‚ä½•åˆ†æé”™è¯¯æ—¥å¿—å’Œè¿›è¡Œå‡è®¾éªŒè¯ã€‚

### Tier 2: æŠ€èƒ½å±‚ (`.agent/skills/*`)

å¯å¤ç”¨çš„çŸ¥è¯†æ¨¡å—ï¼ŒåŒ…å«å…·ä½“çš„æŠ€æœ¯ç»†èŠ‚ã€æ¨¡ç‰ˆå’Œæ£€æŸ¥æ¸…å•ã€‚

- **èŒè´£**: æä¾›æ‰§è¡Œä»»åŠ¡æ‰€éœ€çš„å…·ä½“"çŸ¥è¯†"ã€‚
- **å…³ç³»**: Skills è¢« Agents å¼•ç”¨ã€‚ä¸€ä¸ª Skill å¯ä»¥è¢«å¤šä¸ª Agent ä½¿ç”¨ã€‚
- **ç¤ºä¾‹**:
    - `api-patterns`: REST vs GraphQL å†³ç­–æ ‘ã€‚
    - `clean-code`: å‘½åè§„èŒƒã€DRY åŸåˆ™ã€‚

### Tier 3: å·¥ä½œæµå±‚ (`.agent/workflows/*.md`)

å®šä¹‰äº†å¤šæ­¥éª¤çš„æ ‡å‡†æ“ä½œç¨‹åº (SOP)ã€‚

- **èŒè´£**: åè°ƒå¤šä¸ªæ­¥éª¤ï¼Œç¡®ä¿å¤æ‚ä»»åŠ¡çš„ä¸€è‡´æ€§ã€‚
- **è§¦å‘**: é€šå¸¸é€šè¿‡æ–œæ å‘½ä»¤ (å¦‚ `/create`, `/deploy`) è§¦å‘ã€‚
- **ç¤ºä¾‹**:
    - `/brainstorm`: æé—® -> æ±‡æ€» -> å»ºè®®ã€‚
    - `/create`: è„šæ‰‹æ¶ -> ä¾èµ– -> åŸºç¡€ä»£ç ã€‚

---

## ğŸ”„ è¯·æ±‚ç”Ÿå‘½å‘¨æœŸç¤ºä¾‹

### åœºæ™¯: "æˆ‘æƒ³ç”¨ Next.js å»ºä¸€ä¸ªåšå®¢"

1.  **GEMINI.md (Tier 0)**:
    - æ£€æµ‹åˆ°å…³é”®è¯ "å»º" (Build/Create) å’Œ "Next.js" (Web)ã€‚
    - åˆ†ç±»ä¸º **COMPLEX CODE**ã€‚
    - è·¯ç”±åˆ° `@frontend-specialist` (æˆ–è€…å¦‚æœæ˜¯å…¨æ ˆï¼Œåˆ™æ˜¯ `@app-builder`)ã€‚

2.  **App Builder Agent (Tier 1)**:
    - æ¿€æ´» `@app-builder`ã€‚
    - è¯»å– frontmatter ä¸­çš„ skills: `app-builder`, `nextjs-react-expert`ã€‚

3.  **Skills (Tier 2)**:
    - åŠ è½½ `skills/app-builder/SKILL.md` (äº†è§£å¦‚ä½•åˆ›å»ºè„šæ‰‹æ¶)ã€‚
    - åŠ è½½ `skills/nextjs-react-expert/SKILL.md` (äº†è§£ Next.js æœ€ä½³å®è·µ)ã€‚

4.  **æ‰§è¡Œ (Execution)**:
    - Agent æå‡ºè‹æ ¼æ‹‰åº•å¼é—®é¢˜ ("éœ€è¦ CMS å—?", "æ”¯æŒæ·±è‰²æ¨¡å¼å—?")ã€‚
    - ç”¨æˆ·ç¡®è®¤ã€‚
    - Agent è°ƒç”¨ `task_boundary` è¿›å…¥ä»»åŠ¡æ¨¡å¼ã€‚
    - Agent åˆ›å»º `implementation_plan.md`ã€‚
    - ç”¨æˆ·æ‰¹å‡†ã€‚
    - Agent æ‰§è¡Œä»£ç ç”Ÿæˆã€‚

---

## ğŸ› ï¸ æ‰©å±•ä¸ç»´æŠ¤

- **æ·»åŠ æ–° Agent**: åœ¨ `.agent/agents/` åˆ›å»ºæ–°æ–‡ä»¶å¹¶å®šä¹‰ skillsã€‚
- **æ·»åŠ æ–° Skill**: åœ¨ `.agent/skills/` åˆ›å»ºæ–°ç›®å½•ã€‚
- **ä¿®æ”¹è§„åˆ™**: æ›´æ–° `GEMINI.md` (è°¨æ…æ“ä½œï¼Œå½±å“å…¨å±€)ã€‚
